<head>
    <link rel="stylesheet" href="/src/css/user-auth.css">
    <script defer src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script defer src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script defer src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script defer src="/src/js/init-firebase.js"></script>
</head>
<body>
    <div class="wrapper">
        <div class="container">
            <div class="container-head">
                Welcome Back!
            </div>
            <div class="account-data-input">  
                <textarea id="username-input" placeholder="Username"></textarea>
                <textarea id="password-input" placeholder="Password"></textarea>
                <div id="button">
                    Login
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    if(localStorage.getItem('chat-app-has-account') != "true") window.location.href = "./signup.html";
    const button = document.getElementById('button')
    const usernameInput = document.getElementById('username-input')
    const passwordInput = document.getElementById('password-input')

    button.onclick = e => {
        usernameInput.value = String(usernameInput.value)
        passwordInput.value = String(passwordInput.value)

        usernameInput.value = usernameInput.value.trim()
        passwordInput.value = passwordInput.value.trim()
        
        if(usernameInput.value == "" || passwordInput.value == "") return alert("Please fill in all fields.")

        let userData = db.collection('users').doc(`/${usernameInput.value}`);
        userData.get().then(doc => {
            let data = doc.data()

        })
    }  
</script>